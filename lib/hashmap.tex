% in essence a hash map where the key is also the value

\usepackage{xfp}
\usepackage{pdftexcmds}
\usepackage{stringstrings}

\newcommand\modulo[2]{
    \edef\moduloRes{\fpeval{#1 - (floor(#1 / #2) * #2)}}
}

\newcommand\hashMapSize{569}
\newcommand\hashString[1]{
    \stringlength[q]{#1}
    \edef\strlen{\theresult}
    \wordcount[q]{#1}
    \edef\wordcnt{\theresult}
    \edef\sum{\fpeval{\strlen * 67 + \wordcnt}}
    \modulo{\sum}{\hashMapSize}
}
\newcommand\hashMapCreate[1]{
    \arrCreate{#1}
    \arrFill{#1}{\hashMapSize}{}
}
\newcommand\hashMapAdd[2]{
    \hashString{#2}
    \edef\hashValue{\moduloRes}
    \setcounter{\arrCnt{#1}}{0}
    \loop
    \ifnum \arrCntVal{#1}<\hashMapSize
        \edef\offsetHashValue{\fpeval{\hashValue + \arrCntVal{#1}}}
        \modulo{\offsetHashValue}{\hashMapSize}
        \edef\curitem{\arrGetVal{#1}{\moduloRes}}
        \stringlength[q]{\curitem}
        \ifnum \theresult>0
            \stepcounter{\arrCnt{#1}}
        \else
            \arrSetVal{#1}{\moduloRes}{#2}
            \setcounter{\arrCnt{#1}}{\hashMapSize}
        \fi
        \repeat
}
\makeatletter
\newcommand\hashMapRemove[2]{
    \hashString{#2}
    \edef\hashValue{\moduloRes}
    \setcounter{\arrCnt{#1}}{0}
    \loop
    \ifnum \arrCntVal{#1}<\hashMapSize
        \edef\offsetHashValue{\fpeval{\hashValue + \arrCntVal{#1}}}
        \modulo{\offsetHashValue}{\hashMapSize}
        \edef\curitem{\arrGetVal{#1}{\moduloRes}}
        \ifnum\pdf@strcmp{\curitem}{#2}=0
            \arrSetVal{#1}{\moduloRes}{}
            \setcounter{\arrCnt{#1}}{\hashMapSize}
        \else
            \stepcounter{\arrCnt{#1}}
        \fi
        \repeat
}
\makeatother
\newcommand\hashMapPrint[1]{
    \setcounter{\arrCnt{#1}}{0}
    \begin{itemize}
        \item Content of #1
        \loop
        \ifnum \arrCntVal{#1}<\hashMapSize
            \edef\curitem{\arrGetVal{#1}{\arrCntVal{#1}}}
            \stringlength[q]{\curitem}
            \ifnum \theresult>0
                \item \arrCntVal{#1}: \curitem
            \fi
            \stepcounter{\arrCnt{#1}}
            \repeat
    \end{itemize}
}
